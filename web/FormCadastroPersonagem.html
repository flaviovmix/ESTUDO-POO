<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="ISO-8859-1">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link href="assets/dist/css/bootstrap.min.css" rel="stylesheet">
        <link href="style.css" rel="stylesheet">        
        <link href="gamer.css" rel="stylesheet">        
        <link href="card-fase.css" rel="stylesheet">        
    </head>
    <body>      
        <div class="container-xl">

            <form id="form_cliente" method="post" action="salvarPersonagem.jsp">
                <h2>CADASTRO DE PERSONAGEM</h2>  
                <div class="row">
                    <fieldset class="row col-lg-9 col-md-8 g-3 cadastro">

                        <div class="col-xxl-4 col-xl-4 col-lg-6 col-md-7 col-sm-8">
                            <label for="nome" class="form-label">Nome completo:</label>
                            <input type="text" class="form-control campo-texto" id="nome" name="nome" placeholder="" value="Flávio José dos Passos" required>
                        </div>

                        <div class="col-xxl-2 col-xl-3 col-lg-3 col-md-5 col-sm-4">
                            <label for="nacionalidade" class="form-label">Nacionalidade:</label>
                            <input type="text" class="form-control campo-texto" id="nacionalidade" name="nacionalidade" placeholder="" value="Brasileira" required>
                        </div>  

                        <div class="col-xxl-2 col-xl-3 col-lg-3 col-md-5 col-sm-6">
                            <label for="orientacaoSexual" class="form-label">Orientacao Sexual:</label>
                            <input type="text" class="form-control campo-texto" id="cpf" name="orientacaoSexual" placeholder="" value="Heterosexual" required>
                        </div>  

                        <div class="col-xxl-2 col-xl-2 col-lg-3 col-md-3 col-sm-6">
                            <label for="civil" class="form-label">Estado Civil:</label>
                            <input type="text" class="form-control campo-texto" id="rg" name="civil" placeholder="" value="Namorando" required>
                        </div>  

                        <div class="col-xxl-2 col-xl-3 col-lg-3 col-md-4 col-sm-4">
                            <label for="data_nascimento" class="form-label">Data Nasc.:</label>
                            <input type="date" class="form-control campo-texto" id="data_nascimento" name="data_nascimento" placeholder="" value="1982-11-05" required>
                        </div>     

                        <div class="col-xxl-2 col-xl-3 col-lg-3 col-md-3 col-sm-4">
                            <label for="peso" class="form-label">Peso:</label>
                            <input type="text" class="form-control campo-texto" id="peso" name="peso" placeholder="" value="45.8" required>
                        </div>    

                        <div class="col-xxl-2 col-xl-2 col-lg-3 col-md-3 col-sm-4">
                            <label for="quadil" class="form-label">Quadil:</label>
                            <input type="text" class="form-control campo-texto" id="quadil" name="quadil" placeholder="" value="48" required>
                        </div>    

                        <div class="col-xxl-2 col-xl-2 col-lg-3 col-md-3 col-sm-6">
                            <label for="busto" class="form-label">Busto:</label>
                            <input type="text" class="form-control campo-texto" id="busto" name="busto" placeholder="" value="52" required>
                        </div>    

                        <div class="col-xxl-2 col-xl-2 col-lg-3 col-md-3 col-sm-6">
                            <label for="altura" class="form-label">Altura:</label>
                            <input type="text" class="form-control campo-texto" id="altura" name="altura" placeholder="" value="1.78" required>
                        </div>    

                        <div class="col-xxl-4 col-xl-3 col-lg-6 col-md-12 col-sm-12">
                            <label for="hobbie" class="form-label">Hobbie:</label>
                            <input type="text" class="form-control campo-texto" id="cidade" name="hobbie" placeholder="" value="Dancar" required>
                        </div>              

                        <div class="col-xxl-12 col-xl-9 col-lg-12 col-md-12">
                            <label for="obs" class="form-label">Observação:</label>
                            <textarea class="form-control campo-texto" rows="1" id="obs" name="obs" placeholder="" required>LOREM IPSUM IS SIMPLY DUMMY TEXT OF.</textarea>
                        </div>     


                        <div class="col-md-12">
                            <!--quebra de linha no form-->
                        </div>

                        <div class="row align-items-center">
                            <div class="col-3">
                                <button type="submit" class="btn btn-primary link-botao">Salvar</button>
                            </div>

                            <div class="col-3">
                                <a class="btn btn-secondary link-botao" href="listarPersonagem.jsp">Cancelar</a>
                            </div>

                            <div class="col-4 offset-2 text-end">
                                <button type="button" class="btn btn-warning link-botao" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
                                    Selecionar Fases
                                </button>
                            </div>
                        </div>

                    </fieldset>

                    <div class="col-lg-3 col-md-4">
                        <div class="card card-form">
                            <img class="card-img-top" id="preview" src="" alt="Pré-visualização da imagem" style="display: none;">
                            <img src="assets/img/0.png" id="img-referencia" class="card-img-top" alt="Imagem 1">
                            <div class="card-body">
                                <div class="descricao">
                                    <input type="file" id="imageInput" name="imageInput" accept="image/*">  
                                </div>
                            </div>
                        </div>
                    </div>                    
                </div>

            </form>
        </div>

        <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog modal-xl">
                <div class="modal-content">
                    <div class="d-flex justify-content-between align-items-center border-bottom border-1 border-muted p-3">
                        <h4 class="col-6" id="staticBackdropLabel">Seleciona as fazes da personagem.</h4>
                        <div class="d-flex justify-content-end align-items-center col-6 gap-2">
                            <button type="button" class="btn btn-success w-25" data-bs-dismiss="modal">Salvar</button>
                            <button type="button" class="btn-close p-2" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                    </div>

                    <div class="modal-body">

                        <div class="row">
                            <div class="col-6">
                                <div class="row row-cols-1 row-cols-sm-2 row-cols-xxl-2 row-cols-xl-2 row-cols-lg-3 row-cols-md-3 g-4">

                                    <script>
                                        for (var i = 1; i <= 4; i++) {
                                        document.write(`
                                                <div class="col">
                                                    <div class="card-fases">
                                                    <div class="area-efeito">
                                                        <img src="assets/img/imgem.png" class="card-img-top-fase" alt="Imagem 1">
                                                    </div>
                                                <div class="card-body">   
                                                <div class="descricao">
                                                    <a href="quebra-cabeca.jsp" class="btn btn-light w-100">Subir img${i}</a>
                                                    <input type="text" class="campo-largura-altura">
                                                    <input type="text" class="campo-largura-altura">
                                                </div>
                                                </div>

                                                  </div>
                                            </div>   
                                        `);
                                        }
                                    </script>   

                                </div>
                            </div>

                            <div class="col-6">
                                <div class="row row-cols-12 row-cols-sm-12 row-cols-xxl-12 row-cols-xl-12 row-cols-lg-12 row-cols-md-12 g-4">
                                    <div class="col">
                                        <div class="card-fases">
                                            <div class="area-efeito">
                                                <img src="assets/img/imgem.png" class="card-img-top-fase-final" alt="Imagem 1">
                                            </div>
                                            <div class="card-body">   
                                                <div class="descricao">
                                                    <a href="quebra-cabeca.jsp" class="btn btn-light w-100">Carregar Imagem Final</a>
                                                    <input type="text" class="campo-largura-altura">
                                                    <input type="text" class="campo-largura-altura">                                                    
                                                </div>
                                            </div>

                                        </div>
                                    </div>   
                                </div>      
                            </div>

                        </div>
                    </div>


                </div>
            </div>
        </div>          



        <script src="assets/dist/js/bootstrap.bundle.min.js"></script>
        <script>

            document.getElementById('imageInput').addEventListener('change', function (event) {
            const file = event.target.files[0]; // Pegando o arquivo selecionado pelo usuário
            if (file) {
            const reader = new FileReader(); // Criando uma instância do FileReader
            reader.onload = function (e) {
            const preview = document.getElementById('preview');
            const imgReferencia = document.getElementById('img-referencia');
            preview.src = e.target.result; // Atribuindo o resultado da leitura como fonte da imagem de pré-visualização
            preview.style.display = 'block'; // Tornando a pré-visualização visível
            imgReferencia.style.display = 'none';
            };
            reader.readAsDataURL(file); // Lendo o arquivo como um Data URL
            }
            });
        </script>

        <script>
            const formProduto = document.getElementById('form_cliente');
            formProduto.addEventListener('submit', (event) => {
            const dateInput = document.getElementById('data_nascimento');
            const dateValue = dateInput.value; // Data no formato 'yyyy-MM-dd'

            if (dateValue.includes('/')) {
            // Substituir barras por traços
            dateInput.value = dateValue.replace(/\//g, '-');
            }
            });
            document.addEventListener("DOMContentLoaded", function () {
            document.getElementById("nome").focus();
            });
        </script>        
    </body>
</html>
